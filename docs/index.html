<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to the xrd_simulator &mdash; xrd_simulator 0.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> xrd_simulator
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to the xrd_simulator</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#anaconda">Anaconda</a></li>
<li><a class="reference internal" href="#pip">pip</a></li>
<li><a class="reference internal" href="#source">source</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#module-xrd_simulator.beam">beam</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.detector">detector</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.mesh">mesh</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.phase">Phase</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.polycrystal">polycrystal</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.scatterer">scatterer</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.laue">laue</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.utils">utils</a></li>
<li><a class="reference internal" href="#module-xrd_simulator.templates">templates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">xrd_simulator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>Welcome to the xrd_simulator</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="welcome-to-the-xrd-simulator">
<h1>Welcome to the xrd_simulator<a class="headerlink" href="#welcome-to-the-xrd-simulator" title="Permalink to this headline"></a></h1>
<p>This is a package for simulating X-ray Difraction from polycrystals</p>
<ul class="simple">
<li><p>Defines polycrystals as a mesh of tetrahedral single crystals.</p></li>
<li><p>Simulates diffraction based on structure factors and a discretized detector array.</p></li>
</ul>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h1>
</div>
<div class="section" id="anaconda">
<h1>Anaconda<a class="headerlink" href="#anaconda" title="Permalink to this headline"></a></h1>
<p>contomo is installable via anaconda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">xrd_simulator</span>
</pre></div>
</div>
</div>
<div class="section" id="pip">
<h1>pip<a class="headerlink" href="#pip" title="Permalink to this headline"></a></h1>
<p>as well as via pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">xrd_simulator</span>
</pre></div>
</div>
</div>
<div class="section" id="source">
<h1>source<a class="headerlink" href="#source" title="Permalink to this headline"></a></h1>
<p>you may also try and build form the source. In that case first:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="o">...</span>
</pre></div>
</div>
<p>next, go to the just downloaded directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">xrd_simulator</span>
</pre></div>
</div>
<p>and install:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline"></a></h1>
<div class="section" id="module-xrd_simulator.beam">
<span id="beam"></span><h2>beam<a class="headerlink" href="#module-xrd_simulator.beam" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xrd_simulator.beam.</span></span><span class="sig-name descname"><span class="pre">Beam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beam_vertices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_propagation_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarization_vector</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.beam.Beam" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">xrd_simulator._pickleable_object.PickleableObject</span></code></p>
<p>Represents a monochromatic X-ray beam as a convex polyhedra.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Xray-beam vertices.</p></li>
<li><p><strong>wavelength</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.vertices">
<span class="sig-name descname"><span class="pre">vertices</span></span><a class="headerlink" href="#xrd_simulator.beam.Beam.vertices" title="Permalink to this definition"></a></dt>
<dd><p>Xray-beam vertices <code class="docutils literal notranslate"><span class="pre">`shape=(N,3)`</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><a class="headerlink" href="#xrd_simulator.beam.Beam.wavelength" title="Permalink to this definition"></a></dt>
<dd><p>Xray wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.wave_vector">
<span class="sig-name descname"><span class="pre">wave_vector</span></span><a class="headerlink" href="#xrd_simulator.beam.Beam.wave_vector" title="Permalink to this definition"></a></dt>
<dd><p>Beam wavevector <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.centroid">
<span class="sig-name descname"><span class="pre">centroid</span></span><a class="headerlink" href="#xrd_simulator.beam.Beam.centroid" title="Permalink to this definition"></a></dt>
<dd><p>Beam centroid <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.halfspaces">
<span class="sig-name descname"><span class="pre">halfspaces</span></span><a class="headerlink" href="#xrd_simulator.beam.Beam.halfspaces" title="Permalink to this definition"></a></dt>
<dd><p>Beam halfspace equation coefficents <code class="docutils literal notranslate"><span class="pre">`shape=(N,3)`</span></code>.
A point x is on the interior of the halfsplace if: halfspaces[i,:-1].dot(x) +  halfspaces[i,-1] &lt;= 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.polarization_vector">
<span class="sig-name descname"><span class="pre">polarization_vector</span></span><a class="headerlink" href="#xrd_simulator.beam.Beam.polarization_vector" title="Permalink to this definition"></a></dt>
<dd><p>Beam linear polarization unit vector <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code>.
Must be orthogonal to the xray propagation direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.beam.Beam.contains" title="Permalink to this definition"></a></dt>
<dd><p>Check if the beam contains a point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>point</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Point to evaluate <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Boolean True if the beam contains the point.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.find_feasible_point">
<span class="sig-name descname"><span class="pre">find_feasible_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">halfspaces</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.beam.Beam.find_feasible_point" title="Permalink to this definition"></a></dt>
<dd><p>Find a point which is clearly inside a set of halfspaces (A * point + b &lt; 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>halfspaces</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Halfspace equations, each row holds coefficents of a halfspace (<code class="docutils literal notranslate"><span class="pre">`shape=(N,4)`</span></code>).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) if no point is found else (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) point.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.get_proximity_intervals">
<span class="sig-name descname"><span class="pre">get_proximity_intervals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sphere_centres</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rigid_body_motion</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.beam.Beam.get_proximity_intervals" title="Permalink to this definition"></a></dt>
<dd><p>Compute the parametric intervals t=[[t_1,t_2],[t_3,t_4],..] in which spheres are interesecting beam.</p>
<p>This method can be used as a pre-checker before running the <cite>intersect()</cite> method on a polyhedral
set. This avoids wasting compute resources on polyhedra which clearly do not intersect the beam.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sphere_centres</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Centroids of a spheres <code class="docutils literal notranslate"><span class="pre">`shape=(3,n)`</span></code>.</p></li>
<li><p><strong>sphere_radius</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Radius of a spheres <code class="docutils literal notranslate"><span class="pre">`shape=(n,)`</span></code>.</p></li>
<li><p><strong>rigid_body_motion</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.motion.RigidBodyMotion</span></code>) – Rigid body motion object describing the
polycrystal transformation as a funciton of time on the domain time=[0,1].</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Parametric ranges in which the spheres
has an intersection with the beam. [(<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>)] if no intersection exist in <code class="docutils literal notranslate"><span class="pre">`time=[0,1]`</span></code>.
the entry at <code class="docutils literal notranslate"><span class="pre">`[i][j]`</span></code> is a list with two floats <code class="docutils literal notranslate"><span class="pre">`[t_1,t_2]`</span></code> and gives the j:th
intersection interval of sphere number i with the beam.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.beam.Beam.intersect">
<span class="sig-name descname"><span class="pre">intersect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.beam.Beam.intersect" title="Permalink to this definition"></a></dt>
<dd><p>Compute the beam intersection with a convex polyhedra, returns a list of HalfspaceIntersections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vertices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Vertices of a convex polyhedra with <code class="docutils literal notranslate"><span class="pre">`shape=(N,3)`</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A scipy.spatial.ConvexHull object formed from the vertices of the intersection between beam vertices and
input vertices.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.detector">
<span id="detector"></span><h2>detector<a class="headerlink" href="#module-xrd_simulator.detector" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xrd_simulator.detector.</span></span><span class="sig-name descname"><span class="pre">Detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pixel_size_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_size_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.detector.Detector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">xrd_simulator._pickleable_object.PickleableObject</span></code></p>
<p>Represents a rectangular X-ray scattering flat area detection device.</p>
<p>The detector can collect scattering as abstract objects and map them to frame numbers.
Using a render function these abstract representation can be rendered into pixelated frames.
The detector is described by a 3 x 3 geometry matrix whic columns contain vectors that attach
to three of the four corners of the detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pixel_size_z</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Pixel side length along zdhat (rectangular pixels) in units of microns.</p></li>
<li><p><strong>pixel_size_y</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Pixel side length along ydhat (rectangular pixels) in units of microns.</p></li>
<li><p><strong>d0</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Detector corner 3d coordinates <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code>. The origin of the detector
is at d0.</p></li>
<li><p><strong>d1</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Detector corner 3d coordinates <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code>. The origin of the detector
is at d0.</p></li>
<li><p><strong>d2</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Detector corner 3d coordinates <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code>. The origin of the detector
is at d0.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.pixel_size_z">
<span class="sig-name descname"><span class="pre">pixel_size_z</span></span><a class="headerlink" href="#xrd_simulator.detector.Detector.pixel_size_z" title="Permalink to this definition"></a></dt>
<dd><p>Pixel side length along zdhat (rectangular pixels) in units of microns.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.pixel_size_y">
<span class="sig-name descname"><span class="pre">pixel_size_y</span></span><a class="headerlink" href="#xrd_simulator.detector.Detector.pixel_size_y" title="Permalink to this definition"></a></dt>
<dd><p>Pixel side length along ydhat (rectangular pixels) in units of microns.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">d0,d1,d2</span></span></dt>
<dd><p>Detector corner 3d coordinates <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code>. The origin of the detector
is at d0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.frames">
<span class="sig-name descname"><span class="pre">frames</span></span><a class="headerlink" href="#xrd_simulator.detector.Detector.frames" title="Permalink to this definition"></a></dt>
<dd><p>Analytical diffraction patterns which</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">scatterer.Scatterer</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">zdhat,ydhat</span></span></dt>
<dd><p>Detector basis vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.normal">
<span class="sig-name descname"><span class="pre">normal</span></span><a class="headerlink" href="#xrd_simulator.detector.Detector.normal" title="Permalink to this definition"></a></dt>
<dd><p>Detector normal.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">zmax,ymax</span></span></dt>
<dd><p>Detector width and height.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.pixel_coordinates">
<span class="sig-name descname"><span class="pre">pixel_coordinates</span></span><a class="headerlink" href="#xrd_simulator.detector.Detector.pixel_coordinates" title="Permalink to this definition"></a></dt>
<dd><p>Real space 3d detector pixel coordinates. <code class="docutils literal notranslate"><span class="pre">`shape=(n,3)`</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.detector.Detector.contains" title="Permalink to this definition"></a></dt>
<dd><p>Determine if the detector coordinate zd,yd lies within the detector bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zd</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Detector z coordinate</p></li>
<li><p><strong>yd</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Detector y coordinate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<code class="xref py py-obj docutils literal notranslate"><span class="pre">boolean</span></code>) True if the zd,yd is within the detector bounds.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.get_intersection">
<span class="sig-name descname"><span class="pre">get_intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ray_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.detector.Detector.get_intersection" title="Permalink to this definition"></a></dt>
<dd><p>Get detector intersection in detector coordinates of a single ray originating from source_point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ray_direction</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Vector in direction of the X-ray propagation</p></li>
<li><p><strong>source_point</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Origin of the ray.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code>) zd, yd in detector plane coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.get_wrapping_cone">
<span class="sig-name descname"><span class="pre">get_wrapping_cone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.detector.Detector.get_wrapping_cone" title="Permalink to this definition"></a></dt>
<dd><p>Compute the cone around a wavevector such that the cone wrapps the detector corners.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Wavevector forming the central axis of cone ´´´shape=(3,)´´´.</p></li>
<li><p><strong>source_point</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Origin of the wavevector ´´´shape=(3,)´´´.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) Cone opening angle divided by two (radians), corresponding to a maximum bragg angle after</dt><dd><p>which scattering will systematically miss the detector.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.detector.Detector.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lorentz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'centroid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.detector.Detector.render" title="Permalink to this definition"></a></dt>
<dd><p>Render a pixelated diffraction pattern onto the detector plane .</p>
<p>NOTE: The value read out on a pixel in the detector is an approximation of the integrated number of counts over
the pixel area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_number</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Index of the frame in the <a class="reference internal" href="#xrd_simulator.detector.Detector.frames" title="xrd_simulator.detector.Detector.frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frames</span></code></a> list to be rendered.</p></li>
<li><p><strong>lorentz</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>) – Weight scattered intensity by Lorentz factor. Defaults to False.</p></li>
<li><p><strong>polarization</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>) – Weight scattered intensity by Polarization factor. Defaults to False.</p></li>
<li><p><strong>structure_factor</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>) – Weight scattered intensity by Structure Factor factor. Defaults to False.</p></li>
<li><p><strong>method</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Rendering method, must be one of <code class="docutils literal notranslate"><span class="pre">`project`</span></code> or <code class="docutils literal notranslate"><span class="pre">`centroid`</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">`centroid`</span></code>.
The default,```method=centroid```, is a simple deposit of intensity for each scatterer onto the detector by
tracing a line from the sample scattering region centroid to the detector plane. The intensity is deposited
into a single detector pixel regardless of the geometrical shape of the scatterer. If instead <code class="docutils literal notranslate"><span class="pre">`method=project`</span></code>
the scattering regions are projected onto the detector depositing a intensity over possibly several pixels as
weighted by the optical path lengths of the rays diffracting from the scattering region.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>) – Prints progress. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pixelated frame as a (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) with shape infered form the detector geometry and
pixel size.</p>
</dd>
</dl>
<p>NOTE: This function can be overwitten to do more advanced models for intensity.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.mesh">
<span id="mesh"></span><h2>mesh<a class="headerlink" href="#module-xrd_simulator.mesh" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xrd_simulator.mesh.</span></span><span class="sig-name descname"><span class="pre">TetraMesh</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines a 3D tetrahedral finite element type basis by subclassing <code class="xref py py-obj docutils literal notranslate"><span class="pre">Basis</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.coord">
<span class="sig-name descname"><span class="pre">coord</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.coord" title="Permalink to this definition"></a></dt>
<dd><p>Nodal coordinates, shape=(nenodes, 3). Each row in coord defines the
coordinates of a mesh node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.enod">
<span class="sig-name descname"><span class="pre">enod</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.enod" title="Permalink to this definition"></a></dt>
<dd><p>Tetra element nodes shape=(nelm, nenodes).e.g enod[i,:] gives
the nodal indices of element i.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.dof">
<span class="sig-name descname"><span class="pre">dof</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.dof" title="Permalink to this definition"></a></dt>
<dd><p>Per node degrees of freedom, i.e dof[i,:]
gives the degrees of freedom of node i.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.efaces">
<span class="sig-name descname"><span class="pre">efaces</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.efaces" title="Permalink to this definition"></a></dt>
<dd><p>Element faces nodal indices, shape=(nelm, nenodes, 3).
e.g efaces[i,j,:] gives the nodal indices of face j of element i.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.enormals">
<span class="sig-name descname"><span class="pre">enormals</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.enormals" title="Permalink to this definition"></a></dt>
<dd><p>Element faces outwards normals (nelm, nefaces, 3).
e.g enormals[i,j,:] gives the normal of face j of element i.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.ecentroids">
<span class="sig-name descname"><span class="pre">ecentroids</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.ecentroids" title="Permalink to this definition"></a></dt>
<dd><p>Per element centroids, shape=(nelm, 3).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.eradius">
<span class="sig-name descname"><span class="pre">eradius</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.eradius" title="Permalink to this definition"></a></dt>
<dd><p>Per element bounding radius, shape=(nelm, 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.ecmat">
<span class="sig-name descname"><span class="pre">ecmat</span></span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.ecmat" title="Permalink to this definition"></a></dt>
<dd><p>Per element interpolation matrix, shape=(nelm, 4, 4). When
multiplied on a coordinate array, <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.array([1,x,y,z])</span></code>, the interpolated value
at x,y,z is found, given that x,y,z is contained by the corresponding element.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.__call__" title="Permalink to this definition"></a></dt>
<dd><p>This method overrides <code class="xref py py-meth docutils literal notranslate"><span class="pre">Basis.__call__()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.generate_mesh_from_levelset">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_mesh_from_levelset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounding_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_circumradius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.generate_mesh_from_levelset" title="Permalink to this definition"></a></dt>
<dd><p>Generate a mesh from a level set using <a class="reference external" href="https://github.com/nschloe/pygalmesh">the pygalmesh package</a>:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level_set</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>) – Level set, level_set(x) should give a negative output on the exterior
of the mesh and positive on the interior.</p></li>
<li><p><strong>bounding_radius</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Bounding radius of mesh.</p></li>
<li><p><strong>max_cell_circumradius</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Bound for element radii.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.generate_mesh_from_numpy_array">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_mesh_from_numpy_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_circumradius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.generate_mesh_from_numpy_array" title="Permalink to this definition"></a></dt>
<dd><p>Generate a mesh from a numpy array using <a class="reference external" href="https://github.com/nschloe/pygalmesh">the pygalmesh package</a>:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Numpy array to generate mesh from.</p></li>
<li><p><strong>voxel_size</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Dimension of array voxels.</p></li>
<li><p><strong>max_cell_circumradius</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Bound for element radii.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.generate_mesh_from_vertices">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_mesh_from_vertices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enod</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.generate_mesh_from_vertices" title="Permalink to this definition"></a></dt>
<dd><p>Generate a mesh from vertices using <a class="reference external" href="https://github.com/nschloe/meshio">the meshio package</a>:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coord</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Nodal coordinates, shape=(nenodes, 3). Each row in coord defines the
coordinates of a mesh node.</p></li>
<li><p><strong>enod</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Tetra element nodes shape=(nelm, nenodes).e.g enod[i,:] gives
the nodal indices of element i.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.get_bounding_sphere_radius">
<span class="sig-name descname"><span class="pre">get_bounding_sphere_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.get_bounding_sphere_radius" title="Permalink to this definition"></a></dt>
<dd><p>This method overrides <code class="xref py py-meth docutils literal notranslate"><span class="pre">Basis.get_bounding_sphere_radius()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.load" title="Permalink to this definition"></a></dt>
<dd><p>Load a mesh from a saved mesh file set using <a class="reference external" href="https://github.com/nschloe/meshio">the meshio package</a>:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Absolute path to save the mesh at (without .xdmf extension)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the tetra mesh to .xdmf paraview readable format for visualisation.
:param file: Absolute path to save the mesh at (without .xdmf extension)
:type file: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.mesh.TetraMesh.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_nodal_coordinates</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.mesh.TetraMesh.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the mesh coordinates and any dependent quanteties by changing the node coordinates.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.phase">
<span id="phase"></span><h2>Phase<a class="headerlink" href="#module-xrd_simulator.phase" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="xrd_simulator.phase.Phase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xrd_simulator.phase.</span></span><span class="sig-name descname"><span class="pre">Phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit_cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sgname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_cif_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.phase.Phase" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines properties related to a crystal class.</p>
<p>The barebone Phase object holds the space group name and unit cell of the crystal. From this it is possible
to compute a set of Miller indices for a given wavelength that can give diffraction. In addition, it is
possible to compute unit cell structure factors for the hkls which is usefull to model the scattered intensity.
This will however require a CIF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unit_cell</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>) – Crystal unit cell representation of the form [a,b,c,alpha,beta,gamma], where
alpha,beta and gamma are in units of degrees while a,b and c are in units of anstrom.</p></li>
<li><p><strong>sgname</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – Name of space group , e.g ‘P3221’ for quartz, SiO2, for instance</p></li>
<li><p><strong>path_to_cif_file</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – Path to CIF file. Defaults to None, in which case no structure
factors are computed, i.e <cite>structure_factors=None</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.phase.Phase.unit_cell">
<span class="sig-name descname"><span class="pre">unit_cell</span></span><a class="headerlink" href="#xrd_simulator.phase.Phase.unit_cell" title="Permalink to this definition"></a></dt>
<dd><p>Crystal unit cell representation of the form [a,b,c,alpha,beta,gamma], where
alpha,beta and gamma are in units of degrees while a,b and c are in units of anstrom.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.phase.Phase.sgname">
<span class="sig-name descname"><span class="pre">sgname</span></span><a class="headerlink" href="#xrd_simulator.phase.Phase.sgname" title="Permalink to this definition"></a></dt>
<dd><p>Name of space group , e.g ‘P3221’ for quartz, SiO2, for instance</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.phase.Phase.miller_indices">
<span class="sig-name descname"><span class="pre">miller_indices</span></span><a class="headerlink" href="#xrd_simulator.phase.Phase.miller_indices" title="Permalink to this definition"></a></dt>
<dd><p>Allowable integer Miller indices (h,k,l) of <code class="docutils literal notranslate"><span class="pre">`shape=(n,3)`</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.phase.Phase.structure_factors">
<span class="sig-name descname"><span class="pre">structure_factors</span></span><a class="headerlink" href="#xrd_simulator.phase.Phase.structure_factors" title="Permalink to this definition"></a></dt>
<dd><p>Structure factors of allowable Miller indices (<code class="docutils literal notranslate"><span class="pre">`miller_indices`</span></code>)
of <code class="docutils literal notranslate"><span class="pre">`shape=(n,2)`</span></code>. <cite>structure_factors[i,0]</cite> gives the real structure factor of <cite>hkl=miller_indices[i,:]</cite>
while <cite>structure_factors[i,0]</cite> gives the corresponding imaginary part of the structure factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.phase.Phase.setup_diffracting_planes">
<span class="sig-name descname"><span class="pre">setup_diffracting_planes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bragg_angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bragg_angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.phase.Phase.setup_diffracting_planes" title="Permalink to this definition"></a></dt>
<dd><p>Generates all Miller indices (h,k,l) that will difract given wavelength and Bragg angle bounds.</p>
<p>If self.path_to_cif_file is not None, structure factors are computed in addition to the hkls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wavelength</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – X-ray wavelenght in units of anstrom.</p></li>
<li><p><strong>min_bragg_angle</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Maximum Bragg angle, in radians, allowed to be taken during diffraction.</p></li>
<li><p><strong>max_bragg_angle</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Minimum Bragg angle, in radians, allowed to be taken during diffraction.</p></li>
</ul>
</dd>
</dl>
<p>NOTE: This function will skip Miller indices that have a zero intensity due to the unit cell structure
factor vanishing, i.e forbidden reflections, such as a 100 in an fcc for instance, will not be included.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.polycrystal">
<span id="polycrystal"></span><h2>polycrystal<a class="headerlink" href="#module-xrd_simulator.polycrystal" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xrd_simulator.polycrystal.</span></span><span class="sig-name descname"><span class="pre">Polycrystal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ephase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eU</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eB</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">xrd_simulator._pickleable_object.PickleableObject</span></code></p>
<p>Represents a multi-phase polycrystal as a tetrahedral mesh where each element can be a single crystal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mesh</strong> (<a class="reference internal" href="#xrd_simulator.mesh.TetraMesh" title="xrd_simulator.mesh.TetraMesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.mesh.TetraMesh</span></code></a>) – Object representing a tetrahedral mesh which defines the
geometry of the sample. At instantiation it is assumed that the sample and lab coordinate systems
are aligned.</p></li>
<li><p><strong>ephase</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Index of phase that elements belong to such that phases[ephase[i]] gives the
xrd_simulator.phase.Phase object of element number i.</p></li>
<li><p><strong>eU</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Per element U (orinetation) matrices, (<code class="docutils literal notranslate"><span class="pre">`shape=(N,3,3)`</span></code>). At instantiation it
is assumed that the sample and lab coordinate systems are aligned.</p></li>
<li><p><strong>eB</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Per element B (hkl to crystal mapper) matrices, (<code class="docutils literal notranslate"><span class="pre">`shape=(N,3,3)`</span></code>).</p></li>
<li><p><strong>phases</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="#xrd_simulator.phase.Phase" title="xrd_simulator.phase.Phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.phase.Phase</span></code></a>) – List of all unique phases present in the polycrystal.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.mesh_lab">
<span class="sig-name descname"><span class="pre">mesh_lab</span></span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.mesh_lab" title="Permalink to this definition"></a></dt>
<dd><p>Object representing a tetrahedral mesh which defines the
geometry of the sample in a fixed lab frame coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#xrd_simulator.mesh.TetraMesh" title="xrd_simulator.mesh.TetraMesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.mesh.TetraMesh</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.mesh_sample">
<span class="sig-name descname"><span class="pre">mesh_sample</span></span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.mesh_sample" title="Permalink to this definition"></a></dt>
<dd><p>Object representing a tetrahedral mesh which defines the
geometry of the sample in a sample coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#xrd_simulator.mesh.TetraMesh" title="xrd_simulator.mesh.TetraMesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.mesh.TetraMesh</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.ephase">
<span class="sig-name descname"><span class="pre">ephase</span></span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.ephase" title="Permalink to this definition"></a></dt>
<dd><p>Index of phase that elements belong to such that phases[ephase[i]] gives the
xrd_simulator.phase.Phase object of element number i.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.eU_lab">
<span class="sig-name descname"><span class="pre">eU_lab</span></span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.eU_lab" title="Permalink to this definition"></a></dt>
<dd><p>Per element U (orientation) matrices in a fixed lab frame coordinate system, (<code class="docutils literal notranslate"><span class="pre">`shape=(N,3,3)`</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.eU_sample">
<span class="sig-name descname"><span class="pre">eU_sample</span></span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.eU_sample" title="Permalink to this definition"></a></dt>
<dd><p>Per element U (orientation) matrices in a sample coordinate system., (<code class="docutils literal notranslate"><span class="pre">`shape=(N,3,3)`</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.eB">
<span class="sig-name descname"><span class="pre">eB</span></span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.eB" title="Permalink to this definition"></a></dt>
<dd><p>Per element B (hkl to crystal mapper) matrices, (<code class="docutils literal notranslate"><span class="pre">`shape=(N,3,3)`</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.phases">
<span class="sig-name descname"><span class="pre">phases</span></span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.phases" title="Permalink to this definition"></a></dt>
<dd><p>List of all unique phases present in the polycrystal.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="#xrd_simulator.phase.Phase" title="xrd_simulator.phase.Phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.phase.Phase</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.diffract">
<span class="sig-name descname"><span class="pre">diffract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rigid_body_motion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bragg_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bragg_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.diffract" title="Permalink to this definition"></a></dt>
<dd><p>Compute diffraction from the rotating and translating polycrystal sample while illuminated by an xray beam.</p>
<p>The xray beam interacts with the polycrystal producing scattering regions which are stored in a detector frame.
The scattering regions may be rendered as pixelated patterns on the detector by using a detector rendering
option.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beam</strong> (<a class="reference internal" href="#xrd_simulator.beam.Beam" title="xrd_simulator.beam.Beam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.beam.Beam</span></code></a>) – Object representing a monochromatic beam of X-rays.</p></li>
<li><p><strong>detector</strong> (<a class="reference internal" href="#xrd_simulator.detector.Detector" title="xrd_simulator.detector.Detector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.detector.Detector</span></code></a>) – Object representing a flat rectangular detector.</p></li>
<li><p><strong>rigid_body_motion</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.motion.RigidBodyMotion</span></code>) – Rigid body motion object describing the
polycrystal transformation as a funciton of time on the domain time=[0,1].</p></li>
<li><p><strong>min_bragg_angle</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Minimum Bragg angle (radians) below wich to not compute diffraction. Defaults to 0.</p></li>
<li><p><strong>max_bragg_angle</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Minimum Bragg angle (radians) after wich to not compute diffraction. By default the
max_bragg_angle is approximated by wrapping the detector corners in a cone with apex at the sample centroid.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>) – Prints progress. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xrd_simulator.polycrystal.Polycrystal.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rigid_body_motion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.polycrystal.Polycrystal.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transform the polycrystal by performing a rigid body motion (translation + rotation)</p>
<p>This function will update the polycrystal mesh (update in lab frame) with any dependent quanteties,
such as face normals etc. Likewise, it will update the per element crystallite orientation
matrices (U) such that the updated matrix will</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rigid_body_motion</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.motion.RigidBodyMotion</span></code>) – Rigid body motion object describing the
polycrystal transformation as a funciton of time on the domain time=[0,1].</p></li>
<li><p><strong>time</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Time between [0,1] at which to call the rigid body motion.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.scatterer">
<span id="scatterer"></span><h2>scatterer<a class="headerlink" href="#module-xrd_simulator.scatterer" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xrd_simulator.scatterer.</span></span><span class="sig-name descname"><span class="pre">Scatterer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">convex_hull</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scattered_wave_vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incident_wave_vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incident_polarization_vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hkl_indx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines a scattering single crystal as a convex polyhedra.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>convex_hull</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.spatial.ConvexHull</span></code>) – Object describing the convex hull of the self.</p></li>
<li><p><strong>kprime</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – Scattering vector, i.e the wavevector pointing in the direction of diffraction.</p></li>
<li><p><strong>s</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Parametric value in range [0,1] where 0 corresponds to a beam with wavevector k1
while s=1 to a beam with wavevector k2. The s value of the scatterer implies what detector
position is applicable during diffraction.</p></li>
<li><p><strong>phase</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Phase</span></code>) – The Phase object representing the material of the self.</p></li>
<li><p><strong>hkl_indx</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Index of Miller index in the <cite>phase.miller_indices</cite> list.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.convex_hull">
<span class="sig-name descname"><span class="pre">convex_hull</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.convex_hull" title="Permalink to this definition"></a></dt>
<dd><p>Object describing the convex hull of the self.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.spatial.ConvexHull</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.kprime">
<span class="sig-name descname"><span class="pre">kprime</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.kprime" title="Permalink to this definition"></a></dt>
<dd><p>Scattering vector, i.e the wavevector pointing in the direction of diffraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.s">
<span class="sig-name descname"><span class="pre">s</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.s" title="Permalink to this definition"></a></dt>
<dd><p>Parametric value in range [0,1] where 0 corresponds to a beam with wavevector k1
while s=1 to a beam with wavevector k2. The s value of the scatterer implies what detector
position is applicable during diffraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.centroid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">centroid</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.centroid" title="Permalink to this definition"></a></dt>
<dd><p>centroid of the scattering region. <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>centroid (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.hkl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hkl</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.hkl" title="Permalink to this definition"></a></dt>
<dd><p>Miller indices [h,k,l] <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>hkl (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.imaginary_structure_factor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">imaginary_structure_factor</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.imaginary_structure_factor" title="Permalink to this definition"></a></dt>
<dd><p>Imaginary part of unit cell structure factor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>hkl (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.lorentz_factor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lorentz_factor</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.lorentz_factor" title="Permalink to this definition"></a></dt>
<dd><p>Compute the Lorentz intensity factor for a scatterer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.polarization_factor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">polarization_factor</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.polarization_factor" title="Permalink to this definition"></a></dt>
<dd><p>Compute the Polarization intensity factor for a scatterer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.real_structure_factor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">real_structure_factor</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.real_structure_factor" title="Permalink to this definition"></a></dt>
<dd><p>Real part of unit cell structure factor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>hkl (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xrd_simulator.scatterer.Scatterer.volume">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume</span></span><a class="headerlink" href="#xrd_simulator.scatterer.Scatterer.volume" title="Permalink to this definition"></a></dt>
<dd><p>volume of the scattering region volume</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>volume (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.laue">
<span id="laue"></span><h2>laue<a class="headerlink" href="#module-xrd_simulator.laue" title="Permalink to this headline"></a></h2>
<p>Collection of functions for solving the Laue equations for package specific parametrisations.</p>
<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.laue.find_solutions_to_tangens_half_angle_equation">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.laue.</span></span><span class="sig-name descname"><span class="pre">find_solutions_to_tangens_half_angle_equation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.laue.find_solutions_to_tangens_half_angle_equation" title="Permalink to this definition"></a></dt>
<dd><p>Find all solutions, <code class="xref py py-obj docutils literal notranslate"><span class="pre">s</span></code>, to the equation (maximum 2 solutions exists)</p>
<div class="math notranslate nohighlight">
\[c_0 \cos(s \alpha) + c_1 \sin(s \alpha) + c_2 = 0. \quad\quad (1)\]</div>
<p>by rewriting as</p>
<div class="math notranslate nohighlight">
\[(c_2 - c_0) t^2 + 2 c_1 t + (c_0 + c_2) = 0. \quad\quad (2)\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[t = \tan(s \alpha / 2). \quad\quad (3)\]</div>
<p>and .. math::alpha is the angle between k1 and k2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_0</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Coefficents c_0,c_1 and c_2 of equation (1).</p></li>
<li><p><strong>c_1</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Coefficents c_0,c_1 and c_2 of equation (1).</p></li>
<li><p><strong>c_2</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Coefficents c_0,c_1 and c_2 of equation (1).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>solutions if any exists otherwise returns None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.laue.get_G">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.laue.</span></span><span class="sig-name descname"><span class="pre">get_G</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">G_hkl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.laue.get_G" title="Permalink to this definition"></a></dt>
<dd><p>Compute the diffraction vector G=UBG_HKL</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>U</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) Orientation matrix of <code class="docutils literal notranslate"><span class="pre">`shape=(3,3)`</span></code> (unitary) – </p></li>
<li><p><strong>B</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Reciprocal to grain coordinate mapping matrix of <code class="docutils literal notranslate"><span class="pre">`shape=(3,3)`</span></code>.</p></li>
<li><p><strong>G_hkl</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Miller indices, i.e the h,k,l integers (<code class="docutils literal notranslate"><span class="pre">`shape=(3,n)`</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sample coordinate system diffraction vector. (<code class="docutils literal notranslate"><span class="pre">`shape=(3,n)`</span></code>)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>G (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.laue.get_bragg_angle">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.laue.</span></span><span class="sig-name descname"><span class="pre">get_bragg_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.laue.get_bragg_angle" title="Permalink to this definition"></a></dt>
<dd><p>Compute a Bragg angle given a diffraction (scattering) vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Sample coordinate system diffraction vector. (<code class="docutils literal notranslate"><span class="pre">`shape=(3,n)`</span></code>)</p></li>
<li><p><strong>wavelength</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Photon wavelength in units of angstrom.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>in units of radians. (<code class="docutils literal notranslate"><span class="pre">`shape=(n,)`</span></code>)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Bragg angles (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.laue.get_sin_theta_and_norm_G">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.laue.</span></span><span class="sig-name descname"><span class="pre">get_sin_theta_and_norm_G</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.laue.get_sin_theta_and_norm_G" title="Permalink to this definition"></a></dt>
<dd><p>Compute a Bragg angle given a diffraction (scattering) vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – Sample coordinate system diffraction vector.</p></li>
<li><p><strong>wavelength</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Photon wavelength in units of angstrom.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>in units of radians and ||G||.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>sin(Bragg angle) (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.laue.get_tangens_half_angle_equation">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.laue.</span></span><span class="sig-name descname"><span class="pre">get_tangens_half_angle_equation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.laue.get_tangens_half_angle_equation" title="Permalink to this definition"></a></dt>
<dd><p>Find coefficent to the equation</p>
<div class="math notranslate nohighlight">
\[c_0 \cos(s \alpha) + c_1 \sin(s \alpha) + c_2 = 0. \quad\quad (1)\]</div>
</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.utils">
<span id="utils"></span><h2>utils<a class="headerlink" href="#module-xrd_simulator.utils" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.utils.clip_line_with_convex_polyhedron">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.utils.</span></span><span class="sig-name descname"><span class="pre">clip_line_with_convex_polyhedron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plane_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plane_normals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.utils.clip_line_with_convex_polyhedron" title="Permalink to this definition"></a></dt>
<dd><p>Compute clip-lengths of a set of parallel lines clipped by a convex polyhedron defined by a series of 2d planes.</p>
<p>For algorihtm description see: Mike Cyrus and Jay Beck. “Generalized two- and three-dimensional clipping”. (1978)
The algorithms is based on solving orthogonal equations and sorting the resutling plane line interestion
points to find which are entry and which are exit points through the convex polyhedron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line_points</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – base points of rays (exterior to polyhedron), <code class="docutils literal notranslate"><span class="pre">`shape=(n,3)`</span></code></p></li>
<li><p><strong>line_direction</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – normalised ray direction (all rays have the same direction),  <code class="docutils literal notranslate"><span class="pre">`shape=(3,)`</span></code></p></li>
<li><p><strong>plane_points</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – point in each polyhedron face plane, <code class="docutils literal notranslate"><span class="pre">`shape=(m,3)`</span></code></p></li>
<li><p><strong>plane_normals</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>) – outwards element face normals, shape: <code class="docutils literal notranslate"><span class="pre">`shape=(m,3)`</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>intersection lengths.  <code class="docutils literal notranslate"><span class="pre">`shape=(n,)`</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>clip_lengths (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.utils.print_progress">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.utils.</span></span><span class="sig-name descname"><span class="pre">print_progress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress_fraction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.utils.print_progress" title="Permalink to this definition"></a></dt>
<dd><p>Print a progress bar in the executing shell terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>progress_fraction</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – progress between 0 and 1.</p></li>
<li><p><strong>message</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Optional message prepend the loading bar with. (max 55 characters)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-xrd_simulator.templates">
<span id="templates"></span><h2>templates<a class="headerlink" href="#module-xrd_simulator.templates" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="xrd_simulator.templates.s3dxrd">
<span class="sig-prename descclassname"><span class="pre">xrd_simulator.templates.</span></span><span class="sig-name descname"><span class="pre">s3dxrd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector_distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_size_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_size_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixelsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#xrd_simulator.templates.s3dxrd" title="Permalink to this definition"></a></dt>
<dd><p>Construct a classical scaning-three-dimensional-xray diffraction experiment.</p>
<p>This is a helper/utility function for quickly creating an experiment. For full controll
over the diffraction geometry consider custom creation of the primitive quanteties:
(<a class="reference internal" href="#xrd_simulator.beam.Beam" title="xrd_simulator.beam.Beam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.beam.Beam</span></code></a>), (<a class="reference internal" href="#xrd_simulator.polycrystal.Polycrystal" title="xrd_simulator.polycrystal.Polycrystal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.polycrystal.Polycrystal</span></code></a>),
(<a class="reference internal" href="#xrd_simulator.phase.Phase" title="xrd_simulator.phase.Phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.phase.Phase</span></code></a>), and (<a class="reference internal" href="#xrd_simulator.detector.Detector" title="xrd_simulator.detector.Detector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.detector.Detector</span></code></a>) seperately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector_distance</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Sample origin to detector distance in units of microns.</p></li>
<li><p><strong>detector_size_z</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Detector side length along rotation axis in units of microns.</p></li>
<li><p><strong>detector_size_y</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Detector side length perpendicular to rotation axis in units of microns.</p></li>
<li><p><strong>pixel_size_z</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Pixel side length along rotation axis in units of microns.</p></li>
<li><p><strong>pixel_size_y</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Pixel side length perpendicular to rotation axis in units of microns.</p></li>
<li><p><strong>beam_size</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Side length of beam (square cross-section) in units of microns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<a class="reference internal" href="#xrd_simulator.beam.Beam" title="xrd_simulator.beam.Beam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.beam.Beam</span></code></a>),
(<a class="reference internal" href="#xrd_simulator.polycrystal.Polycrystal" title="xrd_simulator.polycrystal.Polycrystal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.polycrystal.Polycrystal</span></code></a>),
(<a class="reference internal" href="#xrd_simulator.phase.Phase" title="xrd_simulator.phase.Phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.phase.Phase</span></code></a>) and
(<a class="reference internal" href="#xrd_simulator.detector.Detector" title="xrd_simulator.detector.Detector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator.detector.Detector</span></code></a>).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<code class="xref py py-obj docutils literal notranslate"><span class="pre">xrd_simulator</span></code>) objects defining an experiment</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Axel Henningsson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>